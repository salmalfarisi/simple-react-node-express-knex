{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\simple-react-node-express-knex\\\\frontend\\\\src\\\\content\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { React, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { MDBDataTable } from \"mdbreact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = props => {\n  _s();\n\n  const navigate = useNavigate();\n  const [loadData, setData] = useState({\n    data: []\n  });\n  const [LoadDetail, setDetail] = useState({\n    data: []\n  });\n  const [result, setresult] = useState({\n    success: false\n  });\n  const [showmessage, setmessage] = useState({\n    message: \"\"\n  });\n  const [posts, setPosts] = useState([]);\n  const [usersForRender, setUsersForRender] = useState([]);\n\n  const ChangeRoute = urlroute => {\n    setcUrl(urlroute);\n  };\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:4000/GET\").then(res => res.json()).then(res => {\n      console.log(res);\n      setPosts(res.data);\n    });\n  }, []);\n\n  let deletePost = postId => {\n    alert('masuk');\n    /* fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`, {\r\n      method: \"DELETE\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        var postIndex = posts.findIndex(function (o) {\r\n          return o.id === postId;\r\n        });\r\n        if (postIndex !== -1) {\r\n          setPosts(posts.filter((item) => item.id != postId));\r\n        }\r\n      }); */\n  };\n\n  const data = {\n    columns: [{\n      label: \"#\",\n      field: \"id\",\n      sort: \"asc\",\n      width: 150\n    }, {\n      label: \"Name\",\n      field: \"name\",\n      sort: \"asc\",\n      width: 270\n    }, {\n      label: \"Quantity\",\n      field: \"qty\",\n      sort: \"asc\",\n      width: 200\n    }, {\n      label: \"Action\",\n      field: \"action\",\n      width: 100\n    }],\n    rows: usersForRender\n  };\n  useEffect(() => {\n    let postsArray = JSON.parse(JSON.stringify(posts));\n    let userData = [];\n    postsArray.map((item, index) => {\n      item.id = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: \"1.2em\"\n        },\n        children: item.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this);\n      item.action = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uil-trash-alt\",\n          style: {\n            cursor: \"pointer\",\n            color: \"black\",\n            fontSize: \".7em\",\n            padding: \".5rem\",\n            borderRadius: \".3rem\",\n            background: \"#fb6262\"\n          },\n          onClick: () => deletePost(posts[index].id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uil-trash-alt\",\n          style: {\n            cursor: \"pointer\",\n            color: \"black\",\n            fontSize: \".7em\",\n            padding: \".5rem\",\n            borderRadius: \".3rem\",\n            background: \"#fb6262\"\n          },\n          onClick: () => deletePost(posts[index].id),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this);\n      userData.push(item);\n    });\n    setUsersForRender(userData);\n  }, [posts]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"container\",\n    children: /*#__PURE__*/_jsxDEV(MDBDataTable, {\n      responsive: true,\n      bordered: true,\n      data: data,\n      searching: true,\n      paging: true,\n      info: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Index, \"1LySCBQ4fE9HUBAJLp3U6iCbwbI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["useNavigate","useParams","React","useState","useEffect","axios","MDBDataTable","Index","props","navigate","loadData","setData","data","LoadDetail","setDetail","result","setresult","success","showmessage","setmessage","message","posts","setPosts","usersForRender","setUsersForRender","ChangeRoute","urlroute","setcUrl","fetch","then","res","json","console","log","deletePost","postId","alert","columns","label","field","sort","width","rows","postsArray","JSON","parse","stringify","userData","map","item","index","id","fontWeight","fontSize","action","display","justifyContent","cursor","color","padding","borderRadius","background","push"],"sources":["C:/xampp/htdocs/simple-react-node-express-knex/frontend/src/content/index.js"],"sourcesContent":["import { useNavigate, useParams } from 'react-router-dom';\r\nimport { React, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { MDBDataTable } from \"mdbreact\";\r\n\r\nconst Index = (props) => {\r\n    const navigate = useNavigate();\r\n    const [loadData, setData] = useState({ data:[] });\r\n\tconst [LoadDetail, setDetail] = useState({ data:[] });\r\n\tconst [result, setresult] = useState({ success:false });\r\n\tconst [showmessage, setmessage] = useState({ message:\"\" });\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [usersForRender, setUsersForRender] = useState([]);\r\n\r\n    const ChangeRoute = (urlroute) => {\r\n\t\tsetcUrl(urlroute)\r\n\t}\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://127.0.0.1:4000/GET\")\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n            console.log(res)\r\n            setPosts(res.data);\r\n        });\r\n    }, []);\r\n\r\n    let deletePost = (postId) => {\r\n        alert('masuk')\r\n        /* fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`, {\r\n          method: \"DELETE\",\r\n        })\r\n          .then((res) => res.json())\r\n          .then((res) => {\r\n            var postIndex = posts.findIndex(function (o) {\r\n              return o.id === postId;\r\n            });\r\n            if (postIndex !== -1) {\r\n              setPosts(posts.filter((item) => item.id != postId));\r\n            }\r\n          }); */\r\n      };\r\n\r\n    const data = {\r\n        columns: [\r\n          {\r\n            label: \"#\",\r\n            field: \"id\",\r\n            sort: \"asc\",\r\n            width: 150,\r\n          },\r\n          {\r\n            label: \"Name\",\r\n            field: \"name\",\r\n            sort: \"asc\",\r\n            width: 270,\r\n          },\r\n    \r\n          {\r\n            label: \"Quantity\",\r\n            field: \"qty\",\r\n            sort: \"asc\",\r\n            width: 200,\r\n          },\r\n          {\r\n            label: \"Action\",\r\n            field: \"action\",\r\n            width: 100,\r\n          },\r\n        ],\r\n    \r\n        rows: usersForRender,\r\n    };\r\n\r\n    useEffect(() => {\r\n        let postsArray = JSON.parse(JSON.stringify(posts));\r\n        let userData = [];\r\n        postsArray.map((item, index) => {\r\n            item.id = (\r\n            <div style={{ fontWeight: \"bold\", fontSize: \"1.2em\" }}>{item.id}</div>\r\n            );\r\n            item.action = (\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <div\r\n                className=\"uil-trash-alt\"\r\n                style={{\r\n                    cursor: \"pointer\",\r\n                    color: \"black\",\r\n                    fontSize: \".7em\",\r\n                    padding: \".5rem\",\r\n                    borderRadius: \".3rem\",\r\n                    background: \"#fb6262\",\r\n                }}\r\n                onClick={() => deletePost(posts[index].id)}\r\n                >\r\n                Delete\r\n                </div>\r\n                <div\r\n                className=\"uil-trash-alt\"\r\n                style={{\r\n                    cursor: \"pointer\",\r\n                    color: \"black\",\r\n                    fontSize: \".7em\",\r\n                    padding: \".5rem\",\r\n                    borderRadius: \".3rem\",\r\n                    background: \"#fb6262\",\r\n                }}\r\n                onClick={() => deletePost(posts[index].id)}\r\n                >\r\n                Edit\r\n                </div>\r\n            </div>\r\n            );\r\n            userData.push(item);\r\n        });\r\n        setUsersForRender(userData);\r\n    }, [posts]);\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            <MDBDataTable\r\n                responsive\r\n                bordered\r\n                data={data}\r\n                searching={true}\r\n                paging={true}\r\n                info={false}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
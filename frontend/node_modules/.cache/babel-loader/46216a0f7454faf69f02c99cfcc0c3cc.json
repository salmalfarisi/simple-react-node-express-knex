{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\simple-react-node-express-knex\\\\frontend\\\\src\\\\content\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { React, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { MDBDataTable } from \"mdbreact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = props => {\n  _s();\n\n  const navigate = useNavigate();\n  const [loadData, setData] = useState({\n    data: []\n  });\n  const [LoadDetail, setDetail] = useState({\n    data: []\n  });\n  const [result, setresult] = useState({\n    success: false\n  });\n  const [showmessage, setmessage] = useState({\n    message: \"\"\n  });\n  const [posts, setPosts] = useState([]);\n  const [usersForRender, setUsersForRender] = useState([]);\n\n  const ChangeRouteChild = event => {\n    props.ChangeRoute(event.target.value);\n  };\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:4000/GET\").then(res => res.json()).then(res => {\n      console.log(res);\n      setPosts(res.data);\n    });\n  }, []);\n\n  let deletePost = postId => {\n    if (window.confirm('Are you sure want to delete this data ?')) {\n      fetch(`http://127.0.0.1:4000/DELETE/${postId}`, {\n        method: \"DELETE\"\n      }).then(res => res.json()).then(res => {\n        var postIndex = posts.findIndex(function (o) {\n          return o.id === postId;\n        });\n\n        if (postIndex !== -1) {\n          setPosts(posts.filter(item => item.id != postId));\n        }\n      });\n    }\n  };\n\n  const data = {\n    columns: [{\n      label: \"#\",\n      field: \"id\",\n      sort: \"asc\",\n      width: 150\n    }, {\n      label: \"Name\",\n      field: \"name\",\n      sort: \"asc\",\n      width: 270\n    }, {\n      label: \"Quantity\",\n      field: \"qty\",\n      sort: \"asc\",\n      width: 200\n    }, {\n      label: \"Action\",\n      field: \"action\",\n      width: 100\n    }],\n    rows: usersForRender\n  };\n  useEffect(() => {\n    let postsArray = JSON.parse(JSON.stringify(posts));\n    let userData = [];\n    var number = 0;\n    postsArray.map((item, index) => {\n      item.id = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: \"1.2em\"\n        },\n        children: number\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this);\n      item.action = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uil-trash-alt\",\n          style: {\n            cursor: \"pointer\",\n            color: \"white\",\n            fontSize: \".7em\",\n            padding: \".5rem\",\n            borderRadius: \".3rem\",\n            background: \"#ffc107\"\n          },\n          onClick: () => deletePost(posts[index].id),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"uil-trash-alt\",\n          style: {\n            cursor: \"pointer\",\n            color: \"white\",\n            fontSize: \".7em\",\n            padding: \".5rem\",\n            borderRadius: \".3rem\",\n            background: \"#dc3545\"\n          },\n          onClick: () => deletePost(posts[index].id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this);\n      userData.push(item);\n    });\n    setUsersForRender(userData);\n  }, [posts]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"container\",\n    children: /*#__PURE__*/_jsxDEV(MDBDataTable, {\n      responsive: true,\n      bordered: true,\n      data: data,\n      searching: true,\n      paging: true,\n      info: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Index, \"1LySCBQ4fE9HUBAJLp3U6iCbwbI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["useNavigate","useParams","React","useState","useEffect","axios","MDBDataTable","Index","props","navigate","loadData","setData","data","LoadDetail","setDetail","result","setresult","success","showmessage","setmessage","message","posts","setPosts","usersForRender","setUsersForRender","ChangeRouteChild","event","ChangeRoute","target","value","fetch","then","res","json","console","log","deletePost","postId","window","confirm","method","postIndex","findIndex","o","id","filter","item","columns","label","field","sort","width","rows","postsArray","JSON","parse","stringify","userData","number","map","index","fontWeight","fontSize","action","display","justifyContent","cursor","color","padding","borderRadius","background","push"],"sources":["C:/xampp/htdocs/simple-react-node-express-knex/frontend/src/content/index.js"],"sourcesContent":["import { useNavigate, useParams } from 'react-router-dom';\r\nimport { React, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { MDBDataTable } from \"mdbreact\";\r\n\r\nconst Index = (props) => {\r\n    const navigate = useNavigate();\r\n    const [loadData, setData] = useState({ data:[] });\r\n\tconst [LoadDetail, setDetail] = useState({ data:[] });\r\n\tconst [result, setresult] = useState({ success:false });\r\n\tconst [showmessage, setmessage] = useState({ message:\"\" });\r\n\r\n    const [posts, setPosts] = useState([]);\r\n    const [usersForRender, setUsersForRender] = useState([]);\r\n\r\n    const ChangeRouteChild = (event) => {\r\n\t\tprops.ChangeRoute(event.target.value);\r\n\t}\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://127.0.0.1:4000/GET\")\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n            console.log(res)\r\n            setPosts(res.data);\r\n        });\r\n    }, []);\r\n\r\n    let deletePost = (postId) => {\r\n        if(window.confirm('Are you sure want to delete this data ?')){\r\n            fetch(`http://127.0.0.1:4000/DELETE/${postId}`, {\r\n                method: \"DELETE\",\r\n            })\r\n            .then((res) => res.json())\r\n            .then((res) => {\r\n                var postIndex = posts.findIndex(function (o) {\r\n                return o.id === postId;\r\n                });\r\n                if (postIndex !== -1) {\r\n                setPosts(posts.filter((item) => item.id != postId));\r\n                }\r\n            });\r\n        }\r\n      };\r\n\r\n    const data = {\r\n        columns: [\r\n          {\r\n            label: \"#\",\r\n            field: \"id\",\r\n            sort: \"asc\",\r\n            width: 150,\r\n          },\r\n          {\r\n            label: \"Name\",\r\n            field: \"name\",\r\n            sort: \"asc\",\r\n            width: 270,\r\n          },\r\n    \r\n          {\r\n            label: \"Quantity\",\r\n            field: \"qty\",\r\n            sort: \"asc\",\r\n            width: 200,\r\n          },\r\n          {\r\n            label: \"Action\",\r\n            field: \"action\",\r\n            width: 100,\r\n          },\r\n        ],\r\n    \r\n        rows: usersForRender,\r\n    };\r\n\r\n    useEffect(() => {\r\n        let postsArray = JSON.parse(JSON.stringify(posts));\r\n        let userData = [];\r\n        var number = 0;\r\n        postsArray.map((item, index) => {\r\n            item.id = (\r\n            <div style={{ fontWeight: \"bold\", fontSize: \"1.2em\" }}>{number}</div>\r\n            );\r\n            item.action = (\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <div\r\n                className=\"uil-trash-alt\"\r\n                style={{\r\n                    cursor: \"pointer\",\r\n                    color: \"white\",\r\n                    fontSize: \".7em\",\r\n                    padding: \".5rem\",\r\n                    borderRadius: \".3rem\",\r\n                    background: \"#ffc107\",\r\n                }}\r\n                onClick={() => deletePost(posts[index].id)}\r\n                >\r\n                Edit\r\n                </div>\r\n                <div\r\n                className=\"uil-trash-alt\"\r\n                style={{\r\n                    cursor: \"pointer\",\r\n                    color: \"white\",\r\n                    fontSize: \".7em\",\r\n                    padding: \".5rem\",\r\n                    borderRadius: \".3rem\",\r\n                    background: \"#dc3545\",\r\n                }}\r\n                onClick={() => deletePost(posts[index].id)}\r\n                >\r\n                Delete\r\n                </div>\r\n            </div>\r\n            );\r\n            userData.push(item);\r\n        });\r\n        setUsersForRender(userData);\r\n    }, [posts]);\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            <MDBDataTable\r\n                responsive\r\n                bordered\r\n                data={data}\r\n                searching={true}\r\n                paging={true}\r\n                info={false}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module"}